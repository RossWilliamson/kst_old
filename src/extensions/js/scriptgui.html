<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Working With The GUI - KstScript Documentation</title>
</head>
<body>
<h2>Working With The GUI</h2>
<p>User interfaces can be created with JavaScript, both manually via QWidget
bindings, and with Qt Designer.  Using Qt Designer is the preferred method and
can be accomplished as follows.</p>

<code>
<pre>
	dialog = Factory.loadui("myuserinterface.ui");
	button = dialog.getElementById('ok');
	button.connect(button, 'clicked()', someobject, 'okClicked_void');
</pre>
</code>

<p>All widgets need to be named appropriately as they are clearly referenced
from the XML designer file via DOM methods by their widget name.</p>

<p>It is almost always the case that code that uses widgets or dialogs will
want to create a class to organize the data and UI and create slots for the
signals generated by the UI elements.</p>

<p>Menu entries can be merged into the Kst menus by creating KActions and
loading an appropriate XMLUI rc file:</p>

<code>
<pre>
	gui = KstUIMerge.loadGUI("myuserinterface.rc");
	action = new KAction(gui.actionCollection(), "my_action_name");
	action.text = "&amp;Name Of My Action";
	action.connect(action, 'activated()', someobject, 'show');
	gui.merge();
</pre>
</code>

<h4>Helper Classes</h4>
<ul>
KstUIMerge
	<ul>
	Global object used to load XMLUI files for merging.<br/>
	Method: <code>KstJSUIBuilder loadGUI(String filename);</code>
		<ul>
		<p>Loads a XMLUI file for merging with Kst's GUI.  Returns
		a KstJSUIBuilder instance with the XMLUI loaded and ready to
		merge.</p>
		String <b>filename</b> The filename of the .rc file to load.<br/>
		</ul>
	</ul>
	<br/>
KstJSUIBuilder
	<ul>
	Object containing an action collection and XMLUI ready for merging.
	<br/>
	Method: <code>KActionCollection actionCollection();</code>
		<ul>
		<p>Obtain a reference to the action collection for creating new
		actions. Returns a KActionCollection instance for storing newly
		created actions to be merged with Kst's GUI.</p>
		</ul>
	Method: <code>void merge();</code>
		<ul>
		<p>Merge the action collection with Kst's GUI according to the
		rules of the loaded XMLUI file.  Must be called after all
		actions are created as a part of the actionCollection().</p>
		</ul>
	</ul>
	<br/>
KActionCollection
	<ul>
	See C++ documentation for KActionCollection.  Simply a list of
	actions.
	</ul>
	<br/>
Kst.gui
	<ul>
	This is an object that provides access to the main Kst window.
	It represents the GUI and can be walked like a DOM.  This object uses
	KJSEmbed auto-bindings, and is not guaranteed to be compatible across
	KDE or Kst versions.  You must look for what you want in the object
	before calling it.  Example:  <code>Kst.gui.close();</code>
	</ul>
</ul>


<h4>Licensing Issues</h4>
<p>It is possible, but unclear at this time, that script user-interfaces
developed with Trolltech's Qt Designer product must be licensed under one of
Trolltech's licensing models.  This includes the GPL.  This may only apply if
such UI files are redistributed.</p>
<br/>
<a href="index.html">[Index]</a>
<hr/>
<h6>Copyright &copy; 2005-2006 <a href="http://www.utoronto.ca/">The University of Toronto</a><br>
  Kst <a href="http://kst.kde.org/">http://kst.kde.org/</a>
</h6>
</body>
</html>
